<md-dialog style="max-height: 400px;">
  <form name="vm.taxGrpForm" ng-submit="submitTaxGrp(isUpdateGrp,taxGrpHeader)" id="taxGroupForm">

    <md-card-header style="background-color: whitesmoke">
      <div layout="row" layout-align="center center">
        <md-input-container class="md-block no-bottom" flex style="margin:18px 0 0 15px;" ng-if="!childTaxesDisplay">
          <label>Group Name</label>
          <input name="taxGrpName" ng-required="true" ng-model="taxGrpHeader.taxgroupcode" ng-maxlength="20">
          <div ng-messages="vm.taxGrpForm.taxGrpName.$error">
            <div ng-message="required">Group Name is required.</div>
            <div ng-message="maxlength">Group Name has to be less than 20 characters long</div>
          </div>
        </md-input-container>
        <div style="padding: 5px 20px;" ng-if="childTaxesDisplay">
          <h3>Taxes in {{taxGrpHeader.taxgroupcode}}</h3>
        </div>
        <div flex ng-if="childTaxesDisplay"></div>
        <div flex="5"></div>
        <md-button class="md-icon-button">
          <md-icon md-font-icon="icon-close" ng-click="closeDialog()"></md-icon>
          <md-tooltip>Cancel</md-tooltip>
        </md-button>
      </div>
    </md-card-header>

    <md-content style="padding: 0px;background-color: #ffffff" ms-scroll ng-if="!childTaxesDisplay">
      <div style="padding: 10px;">
        <md-content style="width: 400px;background: transparent;" ms-scroll>
          <md-list-item layout="row" ng-repeat="fixedRate in fixedRates">
            <md-checkbox ng-change="addGroupRow(fixedRate,fixedRate.taxState,$index)" ng-model="fixedRate.taxState" ng-true-value="true" ng-false-value="false" aria-label="{{fixedRate.taxcode}}" class="md-primary"></md-checkbox>
            <span>{{fixedRate.taxcode}}</span>
          </md-list-item>
        </md-content>
      </div>
    </md-content>

    <md-content ng-if="childTaxesDisplay" ms-scroll>
      <div style="padding: 10px;">
        <md-content style="width: 400px;background: transparent;" ms-scroll>
          <md-list-item layout="row" ng-repeat="taxcode in taxesInGroup">
            <md-checkbox class="md-primary" ng-checked="true"></md-checkbox><span>{{taxcode}}</span>
          </md-list-item>
        </md-content>
      </div>
    </md-content>

    <md-dialog-actions layout="row" style="background-color: whitesmoke">
      <div flex></div>
      <div ng-init="submitted=false" ng-if="!childTaxesDisplay">
        <md-button ng-click="clearTaxGrpFields();">Reset</md-button>
        <md-button ng-disabled="vm.taxGrpSubmit" type="submit" class="md-raised md-warn">Save</md-button>
      </div>
    </md-dialog-actions>

  </form>
</md-dialog>
